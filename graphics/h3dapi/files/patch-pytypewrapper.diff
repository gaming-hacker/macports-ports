--- include/H3D/PyTypeWrapper.h.org	2014-01-16 15:02:36.000000000 +0100
+++ include/H3D/PyTypeWrapper.h	2018-10-23 13:44:57.000000000 +0200
@@ -39,8 +39,11 @@
 #define _DEBUG_UNDEFED
 #undef _DEBUG
 #endif
+
+#include <pyconfig.h>
 #endif
-#if defined(__APPLE__) && defined(__MACH__)
+
+#if defined(__APPLE__) && defined(__MACH__) && defined( HAVE_PYTHON_OSX_FRAMEWORK )
 #include <Python/Python.h>
 #else
 #include <Python.h>
