# -*- coding: utf-8; mode: _tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2

PortSystem          1.0
PortGroup           python 1.0

name                py-tensorflow
version             1.4.1
platforms           darwin
supported_archs     x86_64
license             Apache-2
maintainers         {emcrisostomo @emcrisostomo} openmaintainer

description         TensorFlow helps the tensors flow
long_description    ${description}

homepage            https://www.tensorflow.org/


master_sites        https://pypi.python.org/packages/74/fd/356ae3fcb46b6189b9a066323af3a766a0a9fa1d425e76ec2b83abbfee32

    checksums           \
rmd160  4dc7f2dbbb92b05716b7f0518bb3945d1a59584d \
sha256  ee96a38a3ba3c53e1cdd8cc2af59d5f378b7992e63c54fba9605c963b209e814

set python.version 37
distname            tensorflow-1.4.1-cp${python.version}-cp${python.version}m-macosx_10_11_x86_64

extract.suffix      .whl
extract.only


    depends_build-append \
        port:py${python.version}-pip

    depends_lib-append \
        port:py${python.version}-wheel \
        port:py${python.version}-tensorflow-tensorboard \
        port:py${python.version}-six \
        port:py${python.version}-protobuf3 \
        port:py${python.version}-numpy \
        port:py${python.version}-mock \
        port:py${python.version}-backports.weakref

    if {${python.version} < 34} {
        depends_lib-append \
            port:py${python.version}-enum34
    }

    build {}

    destroot.cmd        pip-${python.branch}
    destroot.args       \
        --no-cache-dir \
        --no-dependencies \
        --root ${destroot} \
        ${distpath}/${distfiles}
    destroot.post_args

    post-destroot {
        file delete ${destroot}${python.prefix}/bin/tensorboard
        file delete ${destroot}${prefix}/bin/tensorboard-${python.branch}
    }

    livecheck.type      none
