# -*- coding: utf-8; mode: _tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2

PortSystem          1.0
PortGroup           python 1.0
PortGroup user 1.0
python.version ${user.py.nodot}

name                pipenv
version             2018.11.26
revision            0
categories-append   devel
platforms           darwin
license             MIT
supported_archs     noarch

maintainers         {danchr @danchr} openmaintainer

description         The officially recommended Python packaging tool.

long_description    ${description} \
                    Pipenv -- Python Dev Workflow for Humans -- is a \
                    tool that aims to bring the best of \
                    all packaging worlds (bundler, composer, npm, \
                    cargo, yarn, etc.) to the Python world. Windows is \
                    a first-class citizen, in our world. \

homepage            http://pipenv.org/
master_sites        pypi:[string index ${python.rootname} 0]/${python.rootname}

distname            ${python.rootname}-${version}

checksums           rmd160  2c2e576c92cbd539298facf0fedfc7330a7ed396 \
sha256  a673e606e8452185e9817a987572b55360f4d28b50831ef3b42ac3cab3fee846 \
size    6560580

python.default_version 37

depends_lib-append \
    port:py${python.version}-pip \
    port:py${python.version}-parver \
    port:py${python.version}-invoke \
    port:py${python.version}-certifi \
    port:py${python.version}-setuptools \
    port:py${python.version}-virtualenv \
    port:py${python.version}-virtualenv-clone

post-destroot {
    xinstall -m 644 \
        ${destroot}${python.pkgd}/${name}/${name}.1 \
        ${destroot}${prefix}/share/man/man1
}

test.run            yes
test.cmd            pipenv
test.target         install
test.args           pip
