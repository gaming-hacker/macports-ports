# -*- coding: utf-8; mode: _tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2

PortSystem              1.0
PortGroup               ruby 1.0
PortGroup               active_variants 1.1
PortGroup user 1.0

ruby.setup              RMagick 2.13.2 gem {} rubygems
categories-append       graphics
platforms               darwin
maintainers             nomaintainer
license                 MIT

description             The Ruby interface to ImageMagick

long_description        RMagick is an interface between the Ruby programming \
      language and the ImageMagick image processing library. It is \
    fully featured and has good documentation.

homepage                https://rmagick.github.io

depends_lib-append      port:ImageMagick
require_active_variants ImageMagick wmf

pre-configure {
    foreach exe {wmf2eps gs} {
        if {[catch {set found [binaryInPath ${exe}]}] != 0} {
            ui_warn "${exe} is not installed, some RMagick examples will fail."
        } else {
            ui_info "${exe} found: ${found}"
        }
    }
}

configure.args          --doc-dir=${prefix}/share/doc/${name}/userguide \
                        --allow-example-errors
