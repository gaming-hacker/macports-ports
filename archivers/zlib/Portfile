# -*- coding: utf-8; mode: _tcl; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- vim:fenc=utf-8:ft=tcl:et:sw=2:ts=2:sts=2

PortSystem              1.0
PortGroup               xcodeversion 1.0
PortGroup user 1.0
PortGroup github 1.0

name zlib
github.setup   gaming-hacker $name 5a6113d8efc5265ee3ddc9db1cca361dcd6a61c4
version                 1.2.12
distname   $name-$version
categories              archivers
maintainers             ryandesign openmaintainer
license                 zlib
homepage                http://www.zlib.net/
platforms               darwin freebsd

description             zlib lossless data-compression library

long_description        zlib is designed to be a free, general-purpose, \
                        legally unencumbered, lossless data-compression \
                        library for use on virtually any computer hardware \
                        and operating system.

master_sites            ${homepage}
fetch.type          git

configure.universal_args

use_parallel_build      yes

destroot.destdir        prefix=${destroot}${prefix}

# if {${name} eq ${subport}} {
#   post-destroot {
#       platform darwin {
#           foreach {neededfile} "${prefix}/lib/libz.dylib" {
#               if {![file exists ${destroot}${neededfile}]} {
#                   ui_error "${neededfile} is not in the destroot. Please clean ${name} and try again."
#                   return -code error "missing ${neededfile} in destroot"
#               }
#           }
#       }
#
#       set docdir ${prefix}/share/doc/${name}
#       xinstall -d ${destroot}${docdir}
#       xinstall -m 0644 -W ${worksrcpath} ChangeLog FAQ README zlib.3.pdf ${destroot}${docdir}
#
#       set examplesdir ${prefix}/share/examples/${name}
#       xinstall -d ${destroot}${examplesdir}
#       xinstall -m 0644 {*}[glob ${worksrcpath}/example{.c,s/*}] ${destroot}${examplesdir}
#   }
# }

# subport minizip {
#
#     description Minizip zip file manipulation library
#     long_description ${description}
#
#     worksrcdir ${worksrcdir}/contrib/minizip
#
#     use_autoreconf  yes
#     autoreconf.args -fvi -I m4
#
#     depends_lib-append port:zlib
# }
